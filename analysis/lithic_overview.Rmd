---
title: "Lithic Analysis Overview"
output:
  workflowr::wflow_html:
    toc: true
editor_options:
  chunk_output_type: console
---

## Introduction

This is our first analysis! We'll explore the lithic (stone tool) assemblage from the Muyumoqo excavation. We'll look at:

- How many artifacts we found
- What materials were used
- Tool types and their distribution
- Size patterns in the assemblage

## Loading the Data

First, let's load the lithic analysis data:

```{r load-data}
# Read the CSV file 
# The file has some encoding issues, so we'll handle that
lithic_data <- read.csv("/Users/patrickphang/Documents/GitHub/Archaeology/lithic_analysis.csv", 
                        fileEncoding = "latin1")

# See column names
colnames(lithic_data)
```

## Understanding the Data Structure

Let's get basic information about what we're working with:

```{r data-structure}
# How many artifacts do we have?
nrow(lithic_data)

# How many columns (measurements and attributes)?
ncol(lithic_data)

# What columns do we have?
colnames(lithic_data)
```

## Basic Statistics

Let's see the overall characteristics:

```{r basic-stats}
# Get summary statistics
summary(lithic_data)

# How many artifacts by excavation unit?
table(lithic_data$Unidad)
```

## Material Types

What raw materials were used to make tools?

```{r material-analysis}
# Count artifacts by material
material_table <- table(lithic_data$Material)
material_df <- data.frame(
  Material = names(material_table),
  Count = as.numeric(material_table)
)
material_df <- material_df[order(-material_df$Count), ]

print(material_df)

# Visualize material distribution
barplot(material_df$Count, 
        names.arg = material_df$Material,
        main = "Artifact Distribution by Material Type",
        xlab = "Material",
        ylab = "Number of Artifacts",
        las = 2)
```

## Technological Types

What kinds of tools were made?

```{r tech-type-analysis}
# Count artifacts by technological type
tech_table <- table(lithic_data$Technological.Type)
tech_df <- data.frame(
  Type = names(tech_table),
  Count = as.numeric(tech_table)
)
tech_df <- tech_df[order(-tech_df$Count), ]

print(tech_df)

# Visualize
barplot(tech_df$Count,
        names.arg = tech_df$Type,
        main = "Artifact Distribution by Technological Type",
        xlab = "Technological Type",
        ylab = "Number of Artifacts",
        las = 2)
```

## Size Analysis

How big are our artifacts?

```{r size-analysis}
# Get summary of size measurements
cat("Summary of measurements:\n")
cat("Mean Length:", mean(lithic_data$Length, na.rm = TRUE), "mm\n")
cat("Mean Width:", mean(lithic_data$Width, na.rm = TRUE), "mm\n")
cat("Mean Thickness:", mean(lithic_data$Thickness, na.rm = TRUE), "mm\n")
cat("Mean Weight:", mean(lithic_data$Weight, na.rm = TRUE), "g\n")

# Distribution of weights
hist(lithic_data$Weight,
     main = "Distribution of Artifact Weights",
     xlab = "Weight (g)",
     ylab = "Frequency",
     breaks = 30,
     col = "steelblue")
```

## Artifacts by Excavation Unit

Are there differences between different areas of the site?

```{r unit-analysis}
# Count by unit
unit_table <- table(lithic_data$Unidad)
unit_df <- data.frame(
  Unit = names(unit_table),
  Count = as.numeric(unit_table)
)
unit_df <- unit_df[order(-unit_df$Count), ]

print(unit_df)

# Visualize
barplot(unit_df$Count,
        names.arg = unit_df$Unit,
        main = "Artifacts by Excavation Unit",
        xlab = "Excavation Unit",
        ylab = "Number of Artifacts",
        col = "steelblue")
```

## Key Findings

Based on this initial exploration:

- **Total artifacts analyzed**: `r nrow(lithic_data)`
- **Most common material**: `r material_df$Material[1]`
- **Most common tool type**: `r tech_df$Type[1]`
- **Average weight**: `r round(mean(lithic_data$Weight, na.rm = TRUE), 2)` grams

The assemblage shows a diverse set of tools made from various materials, with clear patterns in tool types and sizes. Future analyses can dive deeper into:
- Temporal patterns (if levels represent different time periods)
- Spatial patterns (differences between excavation units)
- Tool use and modification patterns
- Technological sequences in tool production
